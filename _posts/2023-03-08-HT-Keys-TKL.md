---
layout: post
author: noflm
title: HT-Keys-TKLで自作キーボード
share_description: 'はるさめ氏が制作した自作キーボード用基盤HT-Keys-TKLで人生初の自作キーボードを作ったお話です。'
share_image: 2023-03-08-HT-Keys-TKL/OGP.webp
---

# 経緯
今回、いつも某Discord鯖でご一緒させて頂いている[はるさめ氏](https://twitter.com/HarusameTech)が何やら自作キーボード用基板を販売するとのひとり言を発見しまして、無理言って制作中だった[BOOTHの販売ページ](https://harusametech.booth.pm/items/4568322)を公開させ購入したことがことの発端です。

# HT-Keys-TKLについて
以下[BOOTHの商品ページ](https://harusametech.booth.pm/items/4568322)より引用

## 特徴
- US 配列
- テンキーレス
- 87 キー
- USB Type-C インターフェース採用
- CherryMX プロファイル
- RP2040 搭載
- Raspberry Pi Pico 互換仕様
- ファームウェアレベルでカスタマイズ可能

## 付属品
- 本体基板
- ダイオード（1N4148 x90）
- ゴム足

この自作キーボード基板の特徴として、この基板にはRP2040と言うRaspberry Pi Picoに搭載されているマイコンチップと同じものが初めから実装されています。
他の自作キーボード基板にあるようなArduino Pro Micro等を別途用意して基板に**取り付ける必要はありません。**

また、RP2040は**Arduino IDEと互換性がある**ため、ファームウェアのカスタマイズも簡単に行えます。

個人的には接続インターフェイスがUSB Type-Cなのも良き。

この基板は**Cherry MX プロファイルに対応**しているので、様々な種類のキースイッチやキーキャップを自由に選択し組み合わせることが可能です。

**※この基板はキースイッチのホットスワップには対応していません。**
キースイッチに直接ハンダ付けを行う為、後から簡単にキースイッチを交換できないので注意が必要です。

# 制作
## 準備物
- はんだごて(小手先が細いもの)
- ハンダ
- マスキングテープ
- キーボード基板
- [Cherry MX スイッチ](https://shop.yushakobo.jp/products/cherry-mx) (互換品でも可)
- [Cherry MX プロファイル対応キーキャップ](https://shop.yushakobo.jp/collections/keycaps/Cherry-Profile)
- [MXスイッチ スタビライザー](https://shop.yushakobo.jp/products/a0500st?variant=37665699463329)
- PC (ファームウェア書き込み用 Windows, Mac, Linux可)
- USB Type-C ケーブル (PCとの接続用)
- やる気

## 手順
### 1. ダイオードの取り付け
付属のダイオード(1N4148)を**87キー分取り付け**ます。

地味に87個ダイオードの足を曲げるのは面倒なので定規などを使って何個か一気に曲げると楽できます。

すべてのダイオードのを基板に刺した後マスキングテープ等で仮固定をすることでハンダ作業をスムーズに行えます。

{: align="center"}
![ダイオードを取り付けた基板(表)]({{ site.cdn_url }}/images/blog/2023-03-08-HT-Keys-TKL/1_1.webp)
ダイオードを取り付けた基板(表)

{: align="center"}
![ダイオードを取り付けた基板(裏)]({{ site.cdn_url }}/images/blog/2023-03-08-HT-Keys-TKL/1_2.webp)
ダイオードを取り付けた基板(裏)

#### スタビライザーの干渉について
基板の設計上、スタビライザーとダイオードの位置がかなりシビアになっているため、スタビライザーを取り付けるキーのダイオードは通常よりも**キースイッチ側に寄せて取り付ける**必要があります。
無理にスタビライザーを取り付けようとすると最悪の場合ダイオードが折れます。

{: align="center"}
![スタビライザーと干渉して折れたダイオード]({{ site.cdn_url }}/images/blog/2023-03-08-HT-Keys-TKL/1_3.webp)
スタビライザーと干渉して折れたダイオード

### 2. キースイッチの取り付け
Cherry MX キースイッチを取り付けます。
今回は茶軸のキースイッチを使用しました。

取付方法としては以下の手順で行いました。
1. 片手でスイッチを支えながらもう片方の手で片ピンを仮ハンダ
2. 位置の微調整
3. ハンダ

{: align="center"}
![キースイッチを取り付けた様子]({{ site.cdn_url }}/images/blog/2023-03-08-HT-Keys-TKL/2.webp)
キースイッチを取り付けた様子

多少のズレは気にしない()


### 3. スタビライザーの取り付け
シフト、スペース、デリート、エンターそれぞれのキーにスタビライザーを取り付けます。

少し硬いですがマイナスドライバー等で押し込むとハマります。

上にも書きましたがダイオードを折らないように気を付けてください。干渉するようでしたら無理やり曲げようとせずハンダし直すことをお勧めします。

{: align="center"}
![スタビライザーを取り付けた様子1]({{ site.cdn_url }}/images/blog/2023-03-08-HT-Keys-TKL/3_1.webp)
スタビライザーを取り付けた様子1

{: align="center"}
![スタビライザーを取り付けた様子2]({{ site.cdn_url }}/images/blog/2023-03-08-HT-Keys-TKL/3_2.webp)
スタビライザーを取り付けた様子2

{: align="center"}
![スタビライザーを取り付けた様子3]({{ site.cdn_url }}/images/blog/2023-03-08-HT-Keys-TKL/3_3.webp)
スタビライザーを取り付けた様子3

### 4. キーキャップの取り付け
キーキャップをキースイッチに取り付けます。

今回はAmazonで適当に見つけた[Happy Balls PBT キーキャップ](https://amzn.asia/d/ijrgIhB)のBlue and White Comboというものを購入しました。

Cherry MX プロファイルに対応したUS配列のキーキャップであれば取り付け可能です。

キーキャップは簡単に取り換えが可能なのでいくつか買っておくのもありかも。

今回購入したキーキャップは3層構造で入っていました。

{: align="center"}
![Happy Balls PBTキーキャップ1]({{ site.cdn_url }}/images/blog/2023-03-08-HT-Keys-TKL/4_1.webp)
Happy Balls PBT キーキャップ1

{: align="center"}
![Happy Balls PBTキーキャップ2]({{ site.cdn_url }}/images/blog/2023-03-08-HT-Keys-TKL/4_2.webp)
Happy Balls PBT キーキャップ2

{: align="center"}
![Happy Balls PBTキーキャップ3]({{ site.cdn_url }}/images/blog/2023-03-08-HT-Keys-TKL/4_3.webp)
Happy Balls PBT キーキャップ3

取り付けるとこんな感じに。

{: align="center"}
![キーキャップを取り付けた様子]({{ site.cdn_url }}/images/blog/2023-03-08-HT-Keys-TKL/4_4.webp)
キーキャップを取り付けた様子

### 5. ゴム足の取り付け
最後にゴム足を基板裏に適当に取り付けてキーボード本体は完成です。

もし、自作のケース等がある場合はそちらを取り付けてください。

{: align="center"}
![ゴム足をゴム足を取り付けた様子]({{ site.cdn_url }}/images/blog/2023-03-08-HT-Keys-TKL/5.webp)
ゴム足を取り付けた様子

### 6. ファームウェアの書き込み
1. [ここ](https://github.com/Riku-mc/HT-Keys/releases)から最新のHT-Keys-TKL用ファームウェアファイル(.uf2)をダウンロードします。

2. 基盤のUSB Type-Cコネクタ 左隣のタクトスイッチ(SW88)を押下しながらUSBケーブルをPCに接続します。

3. キーボードがストレージデバイスとして認識されるのでそこに1でダウンロードしたファームウェアファイル(.uf2)をドラッグ&ドロップして書き込みます。

これでファームウェアの書き込みは完了です。

ファームウェアはソースコードをArduino IDE等でカスタマイズすることが可能です。

自分の場合は一部のキー設定がおかしかったのでファームウェアを書き換えて対応しました。

## まとめ
- 総制作時間: 7~8時間
- ハンダ付けは慣れると楽しい
- 多少のズレは気にしない()
- ファームウェアのカスタマイズ

そんなこんなで多少手こずりましたが人生初の自作キーボードが完成しました。
久々にハンダごてを触りましたがやはりハンダは楽しいですね。
この記事も今回制作したキーボードを使用して執筆しています。

自分がまだUS配列のキーボードになれていない部分が大きいですが、一部打っていてレスポンス遅延や誤入力があるのでまだまだファームウェアの改善余地は有りそうな印象です。

最後に、自分が無理言ったにもかかわらず対応してくださったはるさめ氏には感謝しかありません。本当にありがとうございます。密かに彼の次回作に期待しています。

最後に一言、**自作はいいぞ**
